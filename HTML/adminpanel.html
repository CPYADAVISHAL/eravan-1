<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch</title>
    <style>
       
       
       
        .body{

            /* background-image: linear-gradient(to bottom right , rgb(0, 0, 0) ,#95DBE5FF); */
            /* background-color: #95DBE5FF; */
            color: rgb(1, 48, 24);
            font-size: 2rem;
            font-weight: bold;
            padding: auto;
           
            
            background-repeat: no-repeat;
        }
        .adminNav{
            display: flex;
          margin-left: 2%;
          /* margin-top: -0%; */
        
        }
        .Login{
            margin-right: 5%;
        }
        .welcome{
            color: green;
            font-size: 4rem;
            font-weight: bolder;
            margin-bottom: 3%;
            margin-left: 18%;
            margin-top: 7%;
        }
        .saleinfo{
            color: red;
            margin-left: 40%;
            /* padding-top: 5%; */
        }
  .table{
    border: 2px solid rgb(0, 0, 0);
    margin-top: 2%;
            margin-left: 5%;
            margin-bottom: 50%;

  }
.thead{
    border: 2px solid rgb(5, 5, 5);

}
th{
    border: 2px solid rgb(0, 0, 0);
    color: rgb(224, 81, 81);
}
td{
    border: 2px solid rgb(17, 17, 17);

}
.countflex{
    display:flex;
    
}
.count{
    color: black;
    margin-left:5%;
}
.count1{
    color: black;
    margin-right:10%;
}
.countno{
    color: green;
    font-weight
    
}
    </style>
</head>
<body class="body" >
    <div class="adminNav">
        <div class="Login"><a href="../index.html">HOME</a></div>
        <!--<div class="Login"><a href="AdminLogin.html">LOGIN INFO</a></div>-->
        <div><a href="adminpanel.html">SALE INFO</a></div>

    </div>
    <div class="welcome">
        WELCOME ADMIN! @EraVAN

    </div>
    <div class="saleinfo">
        SALES INFO
    </div>
    <div class="countflex">
        <div class="count"> Sales for this Month: <span id=count class="countno"></span></div>
           <!--<div class="count1"> Sales for this Year: <span id=count class="countno"></span></div>-->
    </div>
     <div>
        <table class="table">
        <thead class="thead">
            <th>S.No</th>
        <th>Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Buy</th>
        <th>Business</th>
        <th>BusinessPlace</th>
        </thead>
        <tbody id="tbody"></tbody>
        </table>
     </div> 

     <!-- <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
     <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
     <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script> -->
     





     <script type="module">
        var stdNo;
        var body = document.getElementById('tbody1')
        function AddItemToTable(name,email,phone,buy,business,businessname){
            let trow = document.createElement("tr");
            let td1 =document.createElement('td');
            let td2 =document.createElement('td');
            let td3 =document.createElement('td');
            let td4 =document.createElement('td');
            let td5 =document.createElement('td');
            let td6 =document.createElement('td');
            let td7 =document.createElement('td');
            let td9= document.getElementById("count");
            
            const b=td1.innerHTML = ++stdNo;
            td9.innerHTML=b;
            td2.innerHTML = name;
            td3.innerHTML = email;
            td4.innerHTML = phone;
            td5.innerHTML= buy;
            td6.innerHTML=business;
            td7.innerHTML=businessname;
                    trow.appendChild(td1)
                    trow.appendChild(td2)
                    trow.appendChild(td3)
                    trow.appendChild(td4)
                    trow.appendChild(td5)
                    trow.appendChild(td6)
                    trow.appendChild(td7)
                    tbody.appendChild(trow);

        }  
        function AddAllItemsToTable(TheStudent){
            stdNo=0;
            tbody.innnerHTML="";
            TheStudent.forEach(element => {
                AddItemToTable(element.name,element.email,element.phone,element.buy,element.business,element.businessname);

            });
    }

// < src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js">
//         <!-- <script type="module">//YEH ISME KERMA PAD RAHA  HER BER SCRIPT DECLERA KERNE KE LIYE -->
     import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js'
     import { getDatabase, ref, set, onValue,get ,child } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js"
    //  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
           // TODO: Add SDKs for Firebase products that you want to use
           // https://firebase.google.com/docs/web/setup#available-libraries
           // Your web app's Firebase configuration
           const firebaseConfig = {
       apiKey: "AIzaSyDR_-2wxBnn-sAxwzJowY5L93pSHfwacKg",
       authDomain: "contactform-abeaa.firebaseapp.com",
       projectId: "contactform-abeaa",
       storageBucket: "contactform-abeaa.appspot.com",
       messagingSenderId: "64446712842",
       appId: "1:64446712842:web:f3d73fbcada4543b1163f3",
       measurementId: "G-645V0T6VQN"
     };
                   //INTIALISE DATABASE
                                  
                                   // let id = Date.now();
                                //    const auth = getAuth();
                              const app =  initializeApp(firebaseConfig);//initilise fire base kerne ke liye
                                const db = getDatabase();

        function GetAllDataOnce(){
            const dbRef = ref(db);

            get(child(dbRef, `users`))
            .then((snapshot)=>{
                var students = [];
                snapshot.forEach(childSnapshot => {
                students.push(childSnapshot.val());
                });

                AddAllItemsToTable(students);

                }); 
            }  
        
        window.onload = GetAllDataOnce;

     </script>

</body>
</html>  